(this.webpackJsonpspms=this.webpackJsonpspms||[]).push([[0],{200:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(74),r=a.n(o),c=(a(86),a(87),a(8)),s=a(9),i=a(11),u=a(10),h=a(12),m=a(206),d=a(204),p=a(33),f=a(202),g=a(205),v=a(203),E=a(201),k=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={currency_exchange_rate:1},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleRowDeleteChange",value:function(e,t){var a=JSON.parse(localStorage.getItem("portfolios")),n=a[e];console.log(n),n.stocks.splice(t,1),localStorage.setItem("portfolios",JSON.stringify(a)),window.location.reload()}},{key:"render",value:function(){var e=this,t=l.a.createElement("tr",null),a=this.props.pfindex,n=this.props.stocklist,o=this.props.sel_cur,r=this.props.exch_rate,c=0;if(0!==n.length){t=n.map((function(t,n){return l.a.createElement("tr",{key:n},l.a.createElement("td",null,n+1),l.a.createElement("td",null,t.stock_symbol),l.a.createElement("td",null,"dollar"===o?t.stock_value+"$":(t.stock_value*r).toFixed(4)+"\u20ac"),l.a.createElement("td",null,t.share_numbers),l.a.createElement("td",null,"dollar"===o?t.stock_value*t.share_numbers+"$":(t.stock_value*r*t.share_numbers).toFixed(4)+"\u20ac"),l.a.createElement("td",null,l.a.createElement(m.a,{variant:"outline-dark",size:"sm",onClick:function(t){window.confirm("Delete this stock?")&&e.handleRowDeleteChange(a,n,t)}},"x")))}));for(var s=0;s<n.length;s++)c+=parseFloat(n[s].stock_value)}return l.a.createElement("div",null,l.a.createElement(E.a,{striped:!0,bordered:!0,hover:!0,style:{marginTop:"10px"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Stock Symbol"),l.a.createElement("th",null,"Stock Value"),l.a.createElement("th",null,"Stock Quantity"),l.a.createElement("th",null,"Total Value"),l.a.createElement("th",null,"Delete"))),l.a.createElement("tbody",null,t)),l.a.createElement("h6",null,"Total value of portfolio : ","dollar"===o?c+"$":(c*r).toFixed(4)+"\u20ac"))}}]),t}(n.Component),b=a(20),y=a.n(b),_=a(45),C=a.n(_),S=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={selected_currency:[],currency_exchange_rate:1,portfolios:[]},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("portfolios"));if(null==t)t=[];else for(var a=0;a<t.length;a++)this.state.selected_currency.push("dollar");this.setState({portfolios:t});var n="https://www.alphavantage.co/query?function=CURRENCY_EXCHANGE_RATE&from_currency=USD&to_currency=EUR&apikey=".concat("LRDFD06EG22S6C5F");y.a.get(n).then((function(t){var a=t.data["Realtime Currency Exchange Rate"]["5. Exchange Rate"];e.setState({currency_exchange_rate:a})})).catch((function(e){return console.log(e)}))}},{key:"onCurrencyChange",value:function(e,t){var a=this.state.selected_currency;a[e]=t.target.value,this.setState({selected_currency:a})}},{key:"onPortfolioDelete",value:function(e){var t=this.state.portfolios;t.splice(e,1);localStorage.setItem("portfolios",JSON.stringify(t)),window.location.reload()}},{key:"onAddStock",value:function(e){document.location.href="/stock/add/"+e}},{key:"onViewGraph",value:function(e){document.location.href="/stock/viewgraph/"+e}},{key:"render",value:function(){var e=this,t=this.state.portfolios,a=this.state.selected_currency,n=this.state.currency_exchange_rate,o=l.a.createElement("span",null,"There is no portfolio for displaying.");return 0!==t.length&&(o=t.map((function(t,o){return l.a.createElement(f.a,{md:6,key:o,style:{marginTop:"20px"}},l.a.createElement(g.a,null,l.a.createElement(g.a.Body,null,l.a.createElement(g.a.Title,null,t.portfolio_name),l.a.createElement(v.a,{style:{marginTop:"10px"}},l.a.createElement(f.a,{md:{span:7,offset:1}},l.a.createElement("input",{type:"radio",name:t.portfolio_name,value:"dollar",onChange:function(t){return e.onCurrencyChange(o,t)},checked:"dollar"===e.state.selected_currency[o]}),"Dollar",l.a.createElement("input",{type:"radio",name:t.portfolio_name,value:"euro",onChange:function(t){return e.onCurrencyChange(o,t)},checked:"euro"===e.state.selected_currency[o],style:{marginLeft:"20px"}}),"Euro")),l.a.createElement(k,{pfindex:o,stocklist:t.stocks,sel_cur:a[o],exch_rate:n}),l.a.createElement(v.a,{style:{marginTop:"20px"}},l.a.createElement(f.a,{md:{span:2,offset:1}},l.a.createElement(m.a,{variant:"outline-primary",size:"sm",onClick:function(t){return e.onAddStock(o,t)}},"Add Stock")),l.a.createElement(f.a,{md:{span:2}},l.a.createElement(m.a,{variant:"outline-primary",size:"sm",onClick:function(t){return e.onViewGraph(o,t)}},"View Graph")),l.a.createElement(f.a,{md:{span:3,offset:4}},l.a.createElement(m.a,{variant:"outline-danger",onClick:function(t){return e.onPortfolioDelete(o,t)}},"Delete"))))))}))),l.a.createElement(v.a,{style:{marginTop:"20px"}},o)}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={portfolios:[]},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("portfolios"));this.setState({portfolios:e})}},{key:"render",value:function(){var e=this.state.portfolios;return null==e&&(e=[]),l.a.createElement("div",{className:"container-div"},l.a.createElement(m.a,{variant:"primary",component:p.b,href:"/portfolio/add",disabled:10===e.length},"Add new portfolio"),l.a.createElement(d.a,{variant:"warning",hidden:10!==e.length},"The maximum number of portfolios that can be crated is 10!"),l.a.createElement(S,null))}}]),t}(n.Component);var w=function(){return l.a.createElement(O,null)},D=a(18);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(108);var j=a(21),x=a(13),N=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.value;a.setState(Object(j.a)({},t.name,n))},a.handleClick=function(){var e=JSON.parse(localStorage.getItem("portfolios"));null==e&&(e=[]);var t={portfolio_name:a.state.portfolio_name,stocks:[]};e.push(t),localStorage.setItem("portfolios",JSON.stringify(e)),a.props.history.push("/")},a.state={portfolio_name:""},a.handleChange=a.handleChange.bind(Object(x.a)(a)),a.handleClick=a.handleClick.bind(Object(x.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container-div"},l.a.createElement("label",null,l.a.createElement("h5",null,"Portfolio Name : "),l.a.createElement("input",{className:"form-control",name:"portfolio_name",onChange:this.handleChange})),l.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.handleClick},"Add Portfolio"))}}]),t}(n.Component),T=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.value;a.setState(Object(j.a)({},t.name,n))},a.handleClick=function(e){e&&e.preventDefault();var t=a.props.match.params.index,n=JSON.parse(localStorage.getItem("portfolios")),l=n[t],o=a.state.stock_symbol,r="https://www.alphavantage.co/query?function=BATCH_STOCK_QUOTES&symbols=".concat(o,"&apikey=").concat("LRDFD06EG22S6C5F");y.a.get(r).then((function(e){var t=C.a.flattenDeep(Array.from(e.data["Stock Quotes"]).map((function(e){return[{symbol:e["1. symbol"],price:e["2. price"],volume:e["3. volume"],timestamp:e["4. timestamp"]}]})))[0].price,o={stock_symbol:a.state.stock_symbol,stock_value:t,share_numbers:a.state.share_numbers};l.stocks.push(o),localStorage.setItem("portfolios",JSON.stringify(n)),a.props.history.push("/")})).catch((function(e){return console.log(e)}))},a.state={stock_symbol:"",share_numbers:0},a.handleChange=a.handleChange.bind(Object(x.a)(a)),a.handleClick=a.handleClick.bind(Object(x.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container-div"},l.a.createElement("h4",null),l.a.createElement("div",null,l.a.createElement("label",null,l.a.createElement("h5",null,"Stock Symbol : "),l.a.createElement("input",{type:"text",className:"form-control",name:"stock_symbol",onChange:this.handleChange}))),l.a.createElement("div",null,l.a.createElement("label",null,l.a.createElement("h5",null,"Total number of shares : "),l.a.createElement("input",{type:"number",className:"form-control",name:"share_numbers",onChange:this.handleChange}))),l.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.handleClick},"Add Stock"))}}]),t}(n.Component),I=a(79),R=function(e){function t(e){var a;Object(c.a)(this,t),a=Object(i.a)(this,Object(u.a)(t).call(this,e));var n=(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+(new Date).getDate();return a.state={data:{},start_date:n,end_date:n,selected_stocks:[],portfolios:[]},a.handleDateChange=a.handleDateChange.bind(Object(x.a)(a)),a.handleButtonClick=a.handleButtonClick.bind(Object(x.a)(a)),a.handleCheckboxChange=a.handleCheckboxChange.bind(Object(x.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.index,a=JSON.parse(localStorage.getItem("portfolios"));if(null==a)a=[];else{var n=a[t].stocks;if(0!==n.length)for(var l=0;l<n.length;l++)this.state.selected_stocks.push(n[l].stock_symbol)}this.setState({portfolios:a});var o=this.state.selected_stocks,r=[],c=function(){var t=o[l],a="https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=".concat(t,"&apikey=").concat("LRDFD06EG22S6C5F");y.a.get(a).then((function(a){var n=a.data["Time Series (Daily)"],l=[],o=[];for(var c in n)l.push(c),o.push(n[c]["4. close"]);var s={label:t,data:o,backgroundColor:"#"+(16777215*Math.random()<<0).toString(16)+"33"};r.push(s),e.setState({data:{labels:l,datasets:r}})})).catch((function(e){return console.log(e)}))};for(l=0;l<o.length;l++)c()}},{key:"handleDateChange",value:function(e){var t=e.target,a=(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+(new Date).getDate(),n=this.state.start_date,l=this.state.end_date;"start_date"===t.name?n=t.value:"end_date"===t.name&&(l=t.value),n>l?alert("Start date is bigger than end date"):n>a||l>a?alert("Start date or End date is bigger than today"):this.setState(Object(j.a)({},e.target.name,e.target.value))}},{key:"handleCheckboxChange",value:function(e){var t=this.state.selected_stocks,a=e.target.value;if(e.target.checked)t.push(a);else{var n=t.indexOf(a);t.splice(n,1)}this.setState({selected_stocks:t}),console.log(this.state.selected_stocks)}},{key:"handleButtonClick",value:function(){for(var e=this,t=this.state.selected_stocks,a=this.state.start_date,n=this.state.end_date,l=[],o=function(){var o=t[r],c="https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=".concat(o,"&apikey=").concat("LRDFD06EG22S6C5F");y.a.get(c).then((function(t){var r=t.data["Time Series (Daily)"],c=[],s=[];for(var i in r)a<=i&&i<=n&&(c.push(i),s.push(r[i]["4. close"]));var u={label:o,data:s,backgroundColor:"#"+(16777215*Math.random()<<0).toString(16)+"33"};l.push(u),e.setState({data:{labels:c,datasets:l}})})).catch((function(e){return console.log(e)}))},r=0;r<t.length;r++)o()}},{key:"render",value:function(){var e=this,t=this.props.match.params.index,a=this.state.portfolios,n=l.a.createElement("div",null),o=null;if(0!==a.length){var r=(o=a[t]).stocks;0!==r.length&&(n=r.map((function(t,a){return l.a.createElement("div",{key:a,style:{marginLeft:"30px"}},l.a.createElement("input",{type:"checkbox",onChange:e.handleCheckboxChange,value:t.stock_symbol,checked:e.state.selected_stocks.includes(t.stock_symbol)}),l.a.createElement(d.a,{variant:"light"},l.a.createElement("h5",null,t.stock_symbol)))})))}return l.a.createElement("div",{className:"container-div"},l.a.createElement("div",null,l.a.createElement("h3",null,null!==o?o.portfolio_name:"Unknown Name")),l.a.createElement(v.a,null,l.a.createElement(f.a,{md:{span:9}},l.a.createElement(I.a,{options:{responsive:!0},data:this.state.data})),l.a.createElement(f.a,{md:{span:3},style:{marginTop:"70px"}},l.a.createElement("h3",null,"Stocks in ",null!==o?o.portfolio_name:"Unknown Name"),n)),l.a.createElement(v.a,{style:{marginTop:"20px"}},l.a.createElement(f.a,{md:{span:2,offset:1}},l.a.createElement("label",null,l.a.createElement("h5",null,"Start Date")),l.a.createElement("input",{type:"date",onChange:this.handleDateChange,className:"form-control",name:"start_date",value:this.state.start_date})),l.a.createElement(f.a,{md:{span:2,offset:1}},l.a.createElement("label",null,l.a.createElement("h5",null,"End Date")),l.a.createElement("input",{type:"date",onChange:this.handleDateChange,className:"form-control",name:"end_date",value:this.state.end_date})),l.a.createElement(f.a,{md:{span:2,offset:4}},l.a.createElement(m.a,{variant:"primary",onClick:this.handleButtonClick,size:"lg"},"Update Graph"))))}}]),t}(n.Component),F=l.a.createElement(p.a,null,l.a.createElement(D.a,{exact:!0,path:"/",component:w}),l.a.createElement(D.a,{path:"/portfolio/add",component:N}),l.a.createElement(D.a,{path:"/stock/add/:index",component:T}),l.a.createElement(D.a,{path:"/stock/viewgraph/:index",component:R}));r.a.render(F,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},81:function(e,t,a){e.exports=a(200)},86:function(e,t,a){},87:function(e,t,a){}},[[81,1,2]]]);
//# sourceMappingURL=main.1d14637b.chunk.js.map